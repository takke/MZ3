<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
	<title>既読判定の色がおかしい</title>
	<link rel="stylesheet" type="text/css" href="TortoiseSVN/css.css">
	<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
</head>
<body>
	<div id="NoScroll">
		<div id="title2" align="center">既読判定の色がおかしい</div>
		<div id="title1"><a href="20071015212940495.htm">前のページ</a></div>
		<div id="title3"><a href="2007101521389561.htm">次のページ</a></div>
	</div>
	<div id="Scroll">
<P><FONT face="ＭＳ ゴシック">　Q.既読トピックの表示色がおかしくなることがある</FONT></P>
<P><FONT face="ＭＳ ゴシック">　A.仕様です<BR>　　最新の投稿が削除されている場合，その判定をすることが出来ないため未読と判定されます<BR>　　新たなコメントが投稿されれば通常の判定が出来るようになります</FONT></P>
<P><FONT face="ＭＳ ゴシック">　　以下，言い訳じみたことになりますが MZ3.i / MZ4 と mixi の仕様説明になります</FONT></P>
<P><FONT face="ＭＳ ゴシック">　　MZ3.i / MZ4 の既読判定は「トピック単位」ではなく「レコード単位」で行っています<BR>　　最終的に表示させたコメント番号をログとして保持し，その値と一覧取得時の総コメント数とを比較して<BR>　　そのトピックが既読か未読かを判別しています<BR>　　そのため，総コメント数が10件のトピックを開いた場合，ただそれだけでは既読とはならず，<BR>　　10件目のコメントを閲覧した時点で初めて完全な既読扱いとなります</FONT></P>
<P><FONT face="ＭＳ ゴシック">　　また，mixi 仕様としてコメントが削除されるとそのコメント番号を破棄せず，欠番として扱います<BR>　　そのため，総コメント数が10件で10件目が削除されると</FONT></P>
<P><FONT face="ＭＳ ゴシック">　　・有効な最終コメント番号は9<BR>　　・総コメント数は10</FONT></P>
<P><FONT face="ＭＳ ゴシック">　　となります<BR>　　こうなると MZ3.i / MZ4 の既読判定要素である「10件目を見る」ことができませんので，<BR>　　この状態で既読判定を行うと10件目のコメントが</FONT></P>
<P><FONT face="ＭＳ ゴシック">　　・本当に未だ見ていないのか<BR>　　・削除されたのか</FONT></P>
<P><FONT face="ＭＳ ゴシック">　　の判別をすることができないのです<BR>　　そのため，最新コメントが削除されたトピックの既読判定をうまく行うことができなくなっています<BR></FONT></P>
</div>
	<div id="NoScroll">
		<div id="title1"><a href="20071015212940495.htm">前のページ</a></div>
		<div id="title3"><a href="2007101521389561.htm">次のページ</a></div>
		<div align="center"><a href="#">上に戻る</a></div>
		<div id="title4"><br>最終更新：2008年10月20日 <a href="http://mixi.jp/view_community.pl?id=1198460"> MZ3/4 -Mixi for ZERO3-</a></div>
	</div>
</body>
</html>
